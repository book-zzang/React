### DOM

- 문서 객체 모델 Document Object Model

### ref 사용

DOM을 꼭 사용해야하는 상황에만!

- 특정 input에 포커스 주기

    1) createRef 사용

    ```java
    // class로 구현
    import React, { Component } from 'react';

    class RefSample extends Component {
    	input = React.createRef();
    	
    	handleFocus = () => {
    		//current 써줘야함
    		this.input.current.focus();
    	}
    	
    	render(){
    		return(
    			<div>
    				<input ref={this.input} />
    			</div>
    		)
    	}
    }

    export default RefSample;
    ```

    2) 콜백 함수 사용

    ```java
    <input ref = {(ref) => this.input = ref} />

    handleButtonClick = () => {
    	this.setState({
    		clicked: true,
    		validated: this.state.password === '0000'
    	});
    	this.input.focus();
    }
    ```

- 스크롤 박스 조작하기

    1) 컴포넌트에 ref 달기

  내부 메서드 및 멤버 변수에도 접근 가능

    ```java
    // class ScrollBox 내 함수
    // scrollTop : 세로 스크롤바 위치(0~350)
    // scrollHeight : 스크롤 있는 박스 안의 div 높이(650)
    // clientHeight : 스크롤 있는 박스의 높이(300)

    scrollToBottom = () => {
    	const { scrollHeight, clientHeight } = this.box;
    	this.box.scrollTop = scrollHeight - clientHeight;
    }
    ```

    ```java
    // App.js
    <ScrollBox ref={(ref) => this.scrollBox=ref} />
    <button onClick={() => this.scrollBox.scrollToBottom()}>
    ```

- Canvas 요소에 그림그리기

### useRef

- 예시

  등록 버튼을 눌렀을 때 포커스가 인풋으로 이동

  useRef 통해 만든 객체 안의 current 값 → 실제 요소 가리킴

    ```java
    const Average = () => {
    	const inputEl = useRef(null);

    	const onInsert = useCallback(() => {
    		inputEl.current.focus();
    	})
    }

    <input value={number} onChange{onChange} ref={inputEl} />
    ```

- 예시

  로컬 변수(렌더링과 상관 없이 바뀔 수 있는 값) 사용하기

    ```java
    import React, { useRef } from 'react';

    // ref 값 바뀌어도 컴포넌트 렌더링 되지 않음
    // 렌더링 관련 없는 값 관리할 때만 이런 식으로 코드 작성할 것
    const RefSample = () => {
    	const id = useRef(1);
    	const setId = (n) => {
    		id.current = n;
    	}
    	const printId = () => {
    		console.log(id.current);
    	}
    	return (
    		<div>
    			refsample
    		</div>
    	);
    };

    export default RefSample;
    ```